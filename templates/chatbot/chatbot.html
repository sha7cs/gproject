{% extends "layout/promotions.html" %}
{% load static %}
{% load i18n %}
{% block chat %}
<link rel="stylesheet" href="{% static 'chat/chat.css' %}">
  <div class="chat-container">
    <div class="category-buttons" id="category-buttons">
      {% for category in categories %}
        <button onclick="selectCategory('{{ category.id }}')">{{ category.category }}</button>
      {% endfor %}
    </div>
    <div class="subcategory-buttons" id="subcategory-buttons" style="display: none;">
      <!-- Subcategory buttons will be dynamically added here -->
    </div>

    <div class="chat-section" id="chat-section" >
      <div class="messages" id="messages">
        <div class="message bot">{% trans 'botwelcome'  %}</div>
      </div>
      <div class="input-bar" id="input-bar" style="display: flex;">
        <form id="messageForm">
          {% csrf_token %}
          <input type="text" id="messageInput" placeholder="{% trans 'typeanswer' %}" />
          <button type="submit">{% trans 'send' %}</button>
        </form>
      </div>
    </div>
   </div>
{% endblock %}

{% block jss %}
   <script>
    const categoriesjs = JSON.parse('{{ categories_json|escapejs }}');
    const subcategoriesjs = JSON.parse('{{ subcategories_json|escapejs }}');
    const lang = '{{ language|escapejs }}'
  </script> 

  <script src="{% static 'chat/chat.js' %}"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
{% endblock %}

